import{r as u}from"./index-DRjF_FHU.js";import{r as m}from"./index-Bx0Ph3cE.js";import{u as E}from"./useForkRef-Bgr6uVxV.js";import{u as e}from"./useEnhancedEffect-CvtZChyo.js";function D(t){return t&&t.ownerDocument||document}function f(t,o){typeof t=="function"?t(o):t&&(t.current=o)}function d(t){var o;return parseInt(u.version,10)>=19?((o=t==null?void 0:t.props)==null?void 0:o.ref)||null:(t==null?void 0:t.ref)||null}function P(t){return typeof t=="function"?t():t}const R=u.forwardRef(function(o,i){const{children:n,container:c,disablePortal:s=!1}=o,[r,a]=u.useState(null),l=E(u.isValidElement(n)?d(n):null,i);if(e(()=>{s||a(P(c)||document.body)},[c,s]),e(()=>{if(r&&!s)return f(i,r),()=>{f(i,null)}},[i,r,s]),s){if(u.isValidElement(n)){const p={ref:l};return u.cloneElement(n,p)}return n}return r&&m.createPortal(n,r)});export{R as P,d as g,D as o};
